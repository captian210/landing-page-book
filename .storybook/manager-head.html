<script>
    document.title = 'Landing page Book';

    function toggleMenu() {
        document.getElementById("clickme").style.display = "none";
        let menu = document.querySelector(".Pane.Pane1");
        let btn = document.querySelector("#storybook__mainMenu__btn__menu");
        if (menu) {
            menu.style.display = (JSON.parse(btn.getAttribute('data-collapsed'))) ? "block" : "none";
            btn.setAttribute('data-collapsed', !JSON.parse(btn.getAttribute('data-collapsed')));
            btn.classList.remove("animated");
        }
    }

    function toggleAddons() {
        let menu = document.querySelector("div.Pane.Pane2 div.Pane.Pane2");
        let btn = document.querySelector("#storybook__mainMenu__btn__addons");
        if (menu) {
            menu.style.display = (JSON.parse(btn.getAttribute('data-collapsed'))) ? "block" : "none";
            btn.setAttribute('data-collapsed', !JSON.parse(btn.getAttribute('data-collapsed')));
        }
    }

    function nextStory() {
        const e = {
            ctrlKey: true,
            shiftKey: true,
            keyCode: 39,
            key: 'ArrowRight',
            preventDefault: function () { },
            target: document.body
        };
        window.onkeydown(e);
    }

    function prevStory() {
        const e = {
            ctrlKey: true,
            shiftKey: true,
            keyCode: 37,
            key: 'ArrowLeft',
            preventDefault: function () { },
            target: document.body
        };
        window.onkeydown(e);
    }

    function changeTheme() {
        let toogle = document.querySelector(".toggle");
        if (localStorage.getItem("theme") == 'gray') {
            toogle.className = "toggle active";
            document.body.setAttribute("theme", "black");
            if (localStorage)
                localStorage.setItem("theme", "black");
        }
        else {
            toogle.className = "toggle";
            document.body.setAttribute("theme", "gray");
            if (localStorage)
                localStorage.setItem("theme", "gray");
        }
    }
</script>
<!-- Google Tag Manager -->
<!-- We MUST use this just in the production live website -->
<script>
    (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({
            'gtm.start': new Date().getTime(),
            event: 'gtm.js'
        });
        var f = d.getElementsByTagName(s)[0],
            j = d.createElement(s),
            dl = l != 'dataLayer' ? '&l=' + l : '';
        j.async = true;
        j.src =
            'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
        f.parentNode.insertBefore(j, f);
    })(window, document, 'script', 'dataLayer', 'GTM-MWNNHCQ');
</script>
<!-- End Google Tag Manager -->
<link rel="icon" type="image/icon" href="images/logo/favicon.png">
<link rel="stylesheet" type="text/css" href="css/storybook.css">
<style>
    .Pane.Pane2 form label {
        font-size: 13px !important;
        font-weight: normal !important;
        width: 139px !important;
        text-align: left !important;
        padding-left: 10px;
        padding-right: 0px !important;
    }
</style>
<div class="storybook__mainMenu">
    <!-- Google Tag Manager (noscript) -->
    <!-- We MUST use this just in the production live website -->
    <noscript>
        <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MWNNHCQ" height="0" width="0" style="display:none;visibility:hidden"></iframe>
    </noscript>
    <!-- End Google Tag Manager (noscript) -->
    <img src="images/logo/click-me.png" id="clickme" class="clickme animated bounceInUp">
    <button id="storybook__mainMenu__btn__menu" class="storybook__mainMenu__btn animated shake" data-collapsed="true"
        onclick="toggleMenu()" title="">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="28" viewBox="0 0 20 20" ratio="1">
            <rect x="1" y="3" width="18" height="0.5" stroke="#fff"></rect>
            <rect x="1" y="8" width="18" height="0.5" stroke="#fff"></rect>
            <rect x="1" y="13" width="18" height="0.5" stroke="#fff"></rect>
            <rect x="1" y="18" width="18" height="0.5" stroke="#fff"></rect>
        </svg>
    </button>
    <button id="storybook__mainMenu__btn__addons" class="storybook__mainMenu__btn" data-collapsed="true" onclick="toggleAddons()">
        <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 20 20" ratio="1">
            <circle fill="none" stroke="#fff" cx="9.997" cy="10" r="3.31"></circle>
            <path fill="none" stroke="#fff" d="M18.488,12.285 L16.205,16.237 C15.322,15.496 14.185,15.281 13.303,15.791 C12.428,16.289 12.047,17.373 12.246,18.5 L7.735,18.5 C7.938,17.374 7.553,16.299 6.684,15.791 C5.801,15.27 4.655,15.492 3.773,16.237 L1.5,12.285 C2.573,11.871 3.317,10.999 3.317,9.991 C3.305,8.98 2.573,8.121 1.5,7.716 L3.765,3.784 C4.645,4.516 5.794,4.738 6.687,4.232 C7.555,3.722 7.939,2.637 7.735,1.5 L12.263,1.5 C12.072,2.637 12.441,3.71 13.314,4.22 C14.206,4.73 15.343,4.516 16.225,3.794 L18.487,7.714 C17.404,8.117 16.661,8.988 16.67,10.009 C16.672,11.018 17.415,11.88 18.488,12.285 L18.488,12.285 Z">
            </path>
        </svg>
    </button>
    <button class="storybook__mainMenu__btn" onclick="prevStory()">
        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 20 20" ratio="1">
            <polyline fill="none" stroke="#fff" stroke-width="1.03" points="13 16 7 10 13 4"></polyline>
        </svg>
    </button>
    <button class="storybook__mainMenu__btn" onclick="nextStory()">
        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 20 20" ratio="1">
            <polyline fill="none" stroke="#fff" stroke-width="1.03" points="7 4 13 10 7 16"></polyline>
        </svg>
    </button>
    <!-- <a class="storybook__mainMenu__a" href="https://front10.com" target="_blank">
        <img class="storybook__mainMenu__a__logo" src="images/logo/logo-frton10.jpg">
    </a> -->
    <div class="toggle" onclick="changeTheme()"></div>
    <!-- <button class="storybook__mainMenu__btnTheme dark" onclick="changeTheme('black')">
        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 20 20" ratio="1">
            <rect x="5" y="2" width="10" height="1"></rect>
            <rect x="3" y="4" width="14" height="1"></rect>
            <rect fill="#000" stroke="#000" x="1.5" y="6.5" width="17" height="11"></rect>
        </svg>
    </button>
    <button class="storybook__mainMenu__btnTheme gray" onclick="changeTheme('gray')">
        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 20 20" ratio="1">
            <rect x="5" y="2" width="10" height="1"></rect>
            <rect x="3" y="4" width="14" height="1"></rect>
            <rect fill="#fafafa" stroke="#000" x="1.5" y="6.5" width="17" height="11"></rect>
        </svg>
    </button> -->
    <a class="storybook__mainMenu__btnTheme github" style="position: absolute; float: right; right: 100px;" href="https://github.com/front10/landing-page-book"
        target="_blank" title="GitHub">
        <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px"
            y="0px" width="32px" height="32px" viewBox="0 0 438.549 438.549" style="enable-background:new 0 0 438.549 438.549;"
            xml:space="preserve">
            <g>
                <path d="M409.132,114.573c-19.608-33.596-46.205-60.194-79.798-79.8C295.736,15.166,259.057,5.365,219.271,5.365
		c-39.781,0-76.472,9.804-110.063,29.408c-33.596,19.605-60.192,46.204-79.8,79.8C9.803,148.168,0,184.854,0,224.63
		c0,47.78,13.94,90.745,41.827,128.906c27.884,38.164,63.906,64.572,108.063,79.227c5.14,0.954,8.945,0.283,11.419-1.996
		c2.475-2.282,3.711-5.14,3.711-8.562c0-0.571-0.049-5.708-0.144-15.417c-0.098-9.709-0.144-18.179-0.144-25.406l-6.567,1.136
		c-4.187,0.767-9.469,1.092-15.846,1c-6.374-0.089-12.991-0.757-19.842-1.999c-6.854-1.231-13.229-4.086-19.13-8.559
		c-5.898-4.473-10.085-10.328-12.56-17.556l-2.855-6.57c-1.903-4.374-4.899-9.233-8.992-14.559
		c-4.093-5.331-8.232-8.945-12.419-10.848l-1.999-1.431c-1.332-0.951-2.568-2.098-3.711-3.429c-1.142-1.331-1.997-2.663-2.568-3.997
		c-0.572-1.335-0.098-2.43,1.427-3.289c1.525-0.859,4.281-1.276,8.28-1.276l5.708,0.853c3.807,0.763,8.516,3.042,14.133,6.851
		c5.614,3.806,10.229,8.754,13.846,14.842c4.38,7.806,9.657,13.754,15.846,17.847c6.184,4.093,12.419,6.136,18.699,6.136
		c6.28,0,11.704-0.476,16.274-1.423c4.565-0.952,8.848-2.383,12.847-4.285c1.713-12.758,6.377-22.559,13.988-29.41
		c-10.848-1.14-20.601-2.857-29.264-5.14c-8.658-2.286-17.605-5.996-26.835-11.14c-9.235-5.137-16.896-11.516-22.985-19.126
		c-6.09-7.614-11.088-17.61-14.987-29.979c-3.901-12.374-5.852-26.648-5.852-42.826c0-23.035,7.52-42.637,22.557-58.817
		c-7.044-17.318-6.379-36.732,1.997-58.24c5.52-1.715,13.706-0.428,24.554,3.853c10.85,4.283,18.794,7.952,23.84,10.994
		c5.046,3.041,9.089,5.618,12.135,7.708c17.705-4.947,35.976-7.421,54.818-7.421s37.117,2.474,54.823,7.421l10.849-6.849
		c7.419-4.57,16.18-8.758,26.262-12.565c10.088-3.805,17.802-4.853,23.134-3.138c8.562,21.509,9.325,40.922,2.279,58.24
		c15.036,16.18,22.559,35.787,22.559,58.817c0,16.178-1.958,30.497-5.853,42.966c-3.9,12.471-8.941,22.457-15.125,29.979
		c-6.191,7.521-13.901,13.85-23.131,18.986c-9.232,5.14-18.182,8.85-26.84,11.136c-8.662,2.286-18.415,4.004-29.263,5.146
		c9.894,8.562,14.842,22.077,14.842,40.539v60.237c0,3.422,1.19,6.279,3.572,8.562c2.379,2.279,6.136,2.95,11.276,1.995
		c44.163-14.653,80.185-41.062,108.068-79.226c27.88-38.161,41.825-81.126,41.825-128.906
		C438.536,184.851,428.728,148.168,409.132,114.573z" />
            </g>
        </svg>
    </a>
</div>
<script>
    document.onreadystatechange = function () {
        var state = document.readyState;
        if (state == 'complete') {
            let minWidthMenu = 1000;
            let screenWidth = window.innerWidth || window.document.documentElement.clientWidth || window.document.getElementsByTagName(
                'body')[0].clientWidth;
            if (minWidthMenu <= screenWidth) {
                toggleMenu();
                toggleAddons();
            }
            let iframe = document.querySelector('iframe');
            if (iframe) {
                var style = document.createElement('style');
                style.textContent =
                    `
                    @media only screen and (max-width: 450px) {
                        div#root > div{
                            padding-left: 0 !important;
                            padding-right: 0 !important;
                        }
                    }
                `;
                iframe.contentDocument.head.appendChild(style);
                var rootDiv = iframe.contentDocument.getElementById("root");
                if (rootDiv) {

                    var openToolingNode = iframe.contentDocument.querySelector(".btn-open-tooling");
                    if (openToolingNode) {
                        openToolingNode.addEventListener('click', function () {
                            toggleAddons()
                        });
                    }


                    function contentChanged() {
                        var urlPath = window.location.href || '';
                        var obj = {};
                        urlPath.replace(/([^=&]+)=([^&]*)/g, function (m, key, value) {
                            obj[decodeURIComponent(key)] = decodeURIComponent(value);
                        });

                        if (!window.storiesResidzed)
                            window.storiesResidzed = [];
                        if (window.storiesResidzed.indexOf(obj.selectedKind + '/' + obj.selectedStory) === -1) {
                            window.storiesResidzed.push(obj.selectedKind + '/' + obj.selectedStory);
                            iframe.style.width = '99.9%';
                            setTimeout(
                                function () {
                                    iframe.style.width = '100%';
                                }, 500
                            )
                        }
                    }
                    if (window.addEventListener)
                        rootDiv.addEventListener('DOMSubtreeModified', contentChanged, false);
                    else if (window.attachEvent)
                        rootDiv.attachEvent('DOMSubtreeModified', contentChanged);
                }
            }
            let menu = document.querySelector(".storybook__mainMenu");
            if (menu) {
                menu.style.display = "block";
            }
            document.body.style.display = "block";
        } else if (state === "interactive") {
            if (localStorage)
                document.body.setAttribute("theme", localStorage.getItem("theme"));
            document.body.style.display = "none";
        }
    }
</script>